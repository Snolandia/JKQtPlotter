<!-- HTML header for doxygen 1.9.3-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JKQTPlotter: Tool (JKQTMathText): Command-Line Utility jkqtmathtext_render</title>
<meta name="description" content="an extensive Qt5+Qt6 Plotter framework (including a feature-richt plotter widget, a speed-optimized, but limited variant and a LaTeX equation renderer!), written fully in C/C++ and without external dependencies">
<meta name="keywords" lang="en-us" content="C++, C++11, Qt, Qt5, Qt6, Plotting, Plot, Chart, Graph, Qt, Widget, C++, Library, Visualization, charting library, plotting library, scientific visualization, data visualization, statistics, statistical methods, statistics library, LaTeX parser, LaTeX renderer, Qt widget, Qt5 widget, Qt6 widget, Qt charts, Qt plots, barchart, violinplot, boxplot, JKQtPlotter, JKQTMathText, JKQTFastPlotter">
<meta name="author" content="$author">
<meta name="copyright" content="(c) 2008-2022 by $author">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="jkqtplotter_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo_doxygen.png"/></td>
  <td id="projectalign">
   <div id="projectname">JKQTPlotter<span id="projectnumber">&#160;trunk/v5.0.0</span>
   </div>
   <div id="projectbrief">an extensive Qt5+Qt6 Plotter framework (including a feature-richt plotter widget, a speed-optimized, but limited variant and a LaTeX equation renderer!), written fully in C/C++ and without external dependencies</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="topics.html"><span>Topics</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('_j_k_q_t_math_text_render_cmd_line_tool.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Tool (JKQTMathText): Command-Line Utility jkqtmathtext_render</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="el" href="class_j_k_q_t_math_text.html" title="this class parses a mathematical markup string and can then draw the contained text/equation onto a Q...">JKQTMathText</a> is a hand-written LaTeX-renderer for Qt (implemented in native C++, using Qt). It supports a large set of standard LaTeX markup and can render it to a QPainter.</p>
<p>This project (see <code>./examples/jkqtmathtext_render/</code>) is a command-line utility that accepts a LaTeX markup string and a filename for the generated image. It then renders the string into the image. The source code of the main application can be found in <a href="https://github.com/jkriege2/JKQtPlotter/tree/master/examples/jkqtmathtext_render/jkqtmathtext_render.cpp"><code>jkqtmathtext_render.cpp</code></a>. The major rendering portion look like this:</p>
<p>First we generate dummy QPixmap that is needed to use the QPainter, that is required for determining the size of the rendering.</p>
<div class="fragment"><div class="line"><a class="code hl_class" href="class_j_k_q_t_p_final_act.html">QPixmap</a> <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">pix</a>(10,10);</div>
<div class="ttc" id="aclass_j_k_q_t_p_final_act_html"><div class="ttname"><a href="class_j_k_q_t_p_final_act.html">JKQTPFinalAct</a></div><div class="ttdoc">C++11 finally construct (executes a callable-object when the edestructor is executed)</div><div class="ttdef"><b>Definition</b> jkqtpcodestructuring.h:48</div></div>
</div><!-- fragment --><p>Now we create a <a class="el" href="class_j_k_q_t_math_text.html" title="this class parses a mathematical markup string and can then draw the contained text/equation onto a Q...">JKQTMathText</a> object and configure it</p>
<div class="fragment"><div class="line">QPainter <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">painter</a>;</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_math_text.html">JKQTMathText</a> mathText;</div>
<div class="line"><span class="keywordflow">if</span> (useXITS) mathText.<a class="code hl_function" href="class_j_k_q_t_math_text.html#a8ac20f1e5cc31b54589e0b322f1b7991">useXITS</a>();</div>
<div class="line">mathText.<a class="code hl_function" href="class_j_k_q_t_math_text.html#af231fd040caed5040c227dd3748ff899">setFontSize</a>(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">fontsize</a>);</div>
<div class="ttc" id="aclass_j_k_q_t_math_text_html"><div class="ttname"><a href="class_j_k_q_t_math_text.html">JKQTMathText</a></div><div class="ttdoc">this class parses a mathematical markup string and can then draw the contained text/equation onto a Q...</div><div class="ttdef"><b>Definition</b> jkqtmathtext.h:181</div></div>
<div class="ttc" id="aclass_j_k_q_t_math_text_html_a8ac20f1e5cc31b54589e0b322f1b7991"><div class="ttname"><a href="class_j_k_q_t_math_text.html#a8ac20f1e5cc31b54589e0b322f1b7991">JKQTMathText::useXITS</a></div><div class="ttdeci">bool useXITS(bool mathModeOnly=true, bool useAsFallbackSymbol=true)</div><div class="ttdoc">configures the class to use the XITS fonts in mathmode</div></div>
<div class="ttc" id="aclass_j_k_q_t_math_text_html_af231fd040caed5040c227dd3748ff899"><div class="ttname"><a href="class_j_k_q_t_math_text.html#af231fd040caed5040c227dd3748ff899">JKQTMathText::setFontSize</a></div><div class="ttdeci">void setFontSize(double __value)</div><div class="ttdoc">set the default font size in points</div></div>
</div><!-- fragment --><p>Now we parse some LaTeX code and thus generate its memory representation.</p>
<div class="fragment"><div class="line">mathText.<a class="code hl_function" href="class_j_k_q_t_math_text.html#a33429d4f9fd09a5418995a0a2886c7cd">parse</a>(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">latex</a>);</div>
<div class="ttc" id="aclass_j_k_q_t_math_text_html_a33429d4f9fd09a5418995a0a2886c7cd"><div class="ttname"><a href="class_j_k_q_t_math_text.html#a33429d4f9fd09a5418995a0a2886c7cd">JKQTMathText::parse</a></div><div class="ttdeci">bool parse(const QString &amp;markup, DefaultParserTypes markupType=DefaultParser, ParseOptions options=DefaultParseOptions)</div><div class="ttdoc">parse the given math markup string with a parser derived from markupType.</div></div>
</div><!-- fragment --><p>Finally we can generate a QImage with the output of the rendering algorithm and save it as a file.</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">QImage</a> <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">pix</a>=mathText.<a class="code hl_function" href="class_j_k_q_t_math_text.html#a957367069dbd6d05b0e5a8902fa90d77">drawIntoImage</a>(drawBoxes, backgroundColor, <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">sizeincrease</a>);</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_final_act.html">pix</a>.save(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">outputFilename</a>);</div>
<div class="ttc" id="aclass_j_k_q_t_math_text_html_a957367069dbd6d05b0e5a8902fa90d77"><div class="ttname"><a href="class_j_k_q_t_math_text.html#a957367069dbd6d05b0e5a8902fa90d77">JKQTMathText::drawIntoImage</a></div><div class="ttdeci">QImage drawIntoImage(bool drawBoxes=false, QColor backgroundColor=QColor(Qt::white), int sizeincrease=0, qreal devicePixelRatio=1.0, unsigned int resolution_dpi=96)</div><div class="ttdoc">render the last parse result into a QImage</div></div>
</div><!-- fragment --><p>calling this utility with the LaTeX code:</p>
<div class="fragment"><div class="line">&gt; jkqtmathtext_render &quot;$x_{1/2}=\frac{-b\pm\sqrt{b^2-4ac}}{2a}$&quot; jkqtmathtext_render_output.png</div>
</div><!-- fragment --><p>results in this output:</p>
<p><img src="https://raw.githubusercontent.com/jkriege2/JKQtPlotter/master/screenshots/jkqtmathtext_render_output.png" alt="jkqtmathtext_render_output" class="inline"/></p>
<p>The tool supports these command-line options:</p><ul>
<li><em>command-line mode</em>: call <code>jkqtmathtext_render LATEX OUTPUTFILE</code><ul>
<li>The extension of the <code>OUTPUTFILE</code> determines the file type. The tool supports <code>.png</code>, <code>.bmp</code>, <code>.jpg</code>, <code>.ppm</code>, <code>.xbm</code> and <code>.xpm</code></li>
</ul>
</li>
<li><em>file-mode</em>: call <code>jkqtmathtext_render --inputfile=<a class="el" href="class_j_k_q_t_p_final_act.html#af964d2f5e77728dfe65e13964ea9b02a">INPUTFILE.jkmt</a> --outputdir=OUTPUTDIR</code><ul>
<li>The file <code><a class="el" href="class_j_k_q_t_p_final_act.html#af964d2f5e77728dfe65e13964ea9b02a">INPUTFILE.jkmt</a></code> is a text file with several "render jobs", deparated by <code>---</code> lines.</li>
<li>The first line in each job defines the output filename (relative to <code>OUTPUTDIR</code>)</li>
<li>The second line is optional and contains a list of altered command-line options, <a class="el" href="class_j_k_q_t_p_final_act.html#af964d2f5e77728dfe65e13964ea9b02a">e.g</a>. <code>--fontsize=24 --fontmathroman=XITS</code>, Note however that only options concerning formatting are allowed, <code>--verbose</code> or the file/directory-options will not be processed!</li>
<li>The third and further lines is concatenated to form the LaTeX markup to be rendered.</li>
</ul>
</li>
<li>All modes support these command-line options:<ul>
<li><code>--verbose</code>: verbose output of the tool</li>
<li><code>--sizeincrease=SIZE_PIXELS</code>: set the width of the additional margin around the rendering result</li>
<li><code>--drawboxes</code>: flag that enables drawing of rectangles around each box</li>
<li><code>--font=FONT_SERIF</code>: sets text- and math-mode serif font to <code>FONT_SERIF</code></li>
<li><code>--font=FONT_SERIF,FONT_SANS</code>: sets text- and math-mode serif font to <code>FONT_SERIF</code> and sans font to <code>FONT_SANS</code></li>
<li><code>--font=FONT_TEXT_SERIF,FONT_TEXT_SANS,FONT_MATH_SERIF,FONT_MATH_SANS</code>: sets text- and math-mode serif font to <code>FONT_TEXT_SERIF</code> and <code>FONT_MATH_SERIF</code> and sans fonts to <code>FONT_TEXT_SANS</code> and <code>FONT_MATH_SANS</code></li>
<li><code>--font=...+XITS|STIX|ASANA</code>: set fonts as given above and then use XITS-/STIX- or ASANA-fonts for math-roman</li>
<li><code>--fontsize=SIZE_PT</code>: set the font-size in pt</li>
<li><code>--fontroman=FONT</code>: set the text-mode roman font</li>
<li><code>--fontsans=FONT</code>: set the text-mode sans font</li>
<li><code>--fontmathroman=FONT</code>: set the math-mode roman font</li>
<li><code>--fontmathsans=FONT</code>: set the math-mode sans font</li>
<li><code>--fontblackboard=FONT</code>: use the given font as blackboard-font and de-activate the simulate-feature</li>
<li><code>--fontblackboardmode=default|font_directly|simulate|unicode_or_font_directly|unicode_or_simulate</code>: use the given drawing mode for blackboard fonts</li>
<li><code>--fonttypewriter=FONT</code>: set the typewriter font</li>
<li><code>--fontscript=FONT</code>: set the script font</li>
<li><code>--fontcaligraphic=FONT</code>: set the caligraphic font</li>
<li><code>--fontfraktur=FONT</code>: set the fraktur font</li>
<li><code>--fontfallbacksymbol=FONT</code>: set the fallback symbol font, using unicode encoding</li>
<li><code>--fontfallbacksymbol_symbolencoding=FONT</code>: set the fallback symbol font, using WinSymbol encoding</li>
<li><code>--background=COLOR</code>: set the background color of the output image</li>
<li><code>--textcolor=COLOR</code>: set the text color of the output image </li>
</ul>
</li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.3-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="example_tutorial_projects.html">Example &amp; Tutorial Projects</a></li>
    <li class="footer">Generated on Tue Dec 19 2023 10:45:52 for JKQTPlotter by <a href="https://www.doxygen.org/index.html">doxygen</a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
