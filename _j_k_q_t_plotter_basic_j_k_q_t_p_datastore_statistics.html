<!-- HTML header for doxygen 1.9.3-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JKQTPlotter: Tutorial (JKQTPDatastore): Advanced 1-Dimensional Statistics with JKQTPDatastore</title>
<meta name="description" content="an extensive Qt5+Qt6 Plotter framework (including a feature-richt plotter widget, a speed-optimized, but limited variant and a LaTeX equation renderer!), written fully in C/C++ and without external dependencies">
<meta name="keywords" lang="en-us" content="C++, C++11, Qt, Qt5, Qt6, Plotting, Plot, Chart, Graph, Qt, Widget, C++, Library, Visualization, charting library, plotting library, scientific visualization, data visualization, statistics, statistical methods, statistics library, LaTeX parser, LaTeX renderer, Qt widget, Qt5 widget, Qt6 widget, Qt charts, Qt plots, barchart, violinplot, boxplot, JKQtPlotter, JKQTMathText, JKQTFastPlotter">
<meta name="author" content="$author">
<meta name="copyright" content="(c) 2008-2022 by $author">
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="jkqtplotter_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo_doxygen.png"/></td>
  <td id="projectalign">
   <div id="projectname">JKQTPlotter<span id="projectnumber">&#160;trunk/v5.0.0</span>
   </div>
   <div id="projectbrief">an extensive Qt5+Qt6 Plotter framework (including a feature-richt plotter widget, a speed-optimized, but limited variant and a LaTeX equation renderer!), written fully in C/C++ and without external dependencies</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="topics.html"><span>Topics</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('_j_k_q_t_plotter_basic_j_k_q_t_p_datastore_statistics.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Tutorial (JKQTPDatastore): Advanced 1-Dimensional Statistics with JKQTPDatastore</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md42">Generating different sets of random numbers</a></li>
<li class="level1"><a href="#autotoc_md43">Basic Statistics</a></li>
<li class="level1"><a href="#autotoc_md44">Boxplots</a><ul><li class="level2"><a href="#autotoc_md45">Standard Boxplots</a></li>
<li class="level2"><a href="#autotoc_md46">Boxplots with Outliers</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md47">Histograms</a></li>
<li class="level1"><a href="#autotoc_md49">Kernel Density Estimates (KDE)</a></li>
<li class="level1"><a href="#autotoc_md51">Cummulative Histograms and KDEs</a></li>
<li class="level1"><a href="#autotoc_md52">Screenshot of the full Program</a></li>
</ul>
</div>
<div class="textblock"><p>This tutorial project (see <code>./examples/datastore_statistics/</code>) explains several advanced functions of <a class="el" href="class_j_k_q_t_p_datastore.html" title="This class manages data columns (with entries of type double ), used by JKQTPlotter/JKQTBasePlotter t...">JKQTPDatastore</a> in combination with the [<a class="el" href="group__jkqtptools__math__statistics.html">JKQTPlotter Statistics Library</a>] conatined in <a class="el" href="class_j_k_q_t_plotter.html" title="plotter widget for scientific plots (uses JKQTBasePlotter to do the actual drawing)">JKQTPlotter</a>.</p>
<p><em><b>Note</b></em> that there are additional tutorial explaining other aspects of data mangement in <a class="el" href="class_j_k_q_t_p_datastore.html" title="This class manages data columns (with entries of type double ), used by JKQTPlotter/JKQTBasePlotter t...">JKQTPDatastore</a>:</p><ul>
<li><a class="el" href="_j_k_q_t_plotter_basic_j_k_q_t_p_datastore.html">Basic Usage of JKQTPDatastore</a></li>
<li><a class="el" href="_j_k_q_t_plotter_basic_j_k_q_t_p_datastore_iterators.html">Iterator-Based usage of JKQTPDatastore</a></li>
<li><a class="el" href="_j_k_q_t_plotter_basic_j_k_q_t_p_datastore_statistics.html">Advanced 1-Dimensional Statistics with JKQTPDatastore</a></li>
<li><a class="el" href="_j_k_q_t_plotter_basic_j_k_q_t_p_datastore_regression.html">Regression Analysis (with the Statistics Library)</a></li>
<li><a class="el" href="_j_k_q_t_plotter_basic_j_k_q_t_p_datastore_statistics_grouped_stat.html">1-Dimensional Group Statistics with JKQTPDatastore</a></li>
<li><a class="el" href="_j_k_q_t_plotter_basic_j_k_q_t_p_datastore_statistics2_d.html">Advanced 2-Dimensional Statistics with JKQTPDatastore</a></li>
</ul>
<p>The source code of the main application can be found in <a href="https://github.com/jkriege2/JKQtPlotter/tree/master/examples/datastore_statistics/datastore_statistics.cpp"><code>datastore_statistics.cpp</code></a>. This tutorial cites only parts of this code to demonstrate different ways of working with data for the graphs.</p>
<h1><a class="anchor" id="autotoc_md42"></a>
Generating different sets of random numbers</h1>
<p>The code segments below will fill four instances of <a class="el" href="class_j_k_q_t_plotter.html" title="plotter widget for scientific plots (uses JKQTBasePlotter to do the actual drawing)">JKQTPlotter</a> with different statistical plots. All these plots are based on three sets of random numbers generated as shown here: </p><div class="fragment"><div class="line"><span class="keywordtype">size_t</span> <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">randomdatacol1</a>=<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">datastore1</a>-&gt;addColumn(<span class="stringliteral">&quot;random data 1&quot;</span>);</div>
<div class="line"><span class="keywordtype">size_t</span> <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">randomdatacol2</a>=<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">datastore1</a>-&gt;addColumn(<span class="stringliteral">&quot;random data 2&quot;</span>);</div>
<div class="line"><span class="keywordtype">size_t</span> <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">randomdatacol3</a>=<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">datastore1</a>-&gt;addColumn(<span class="stringliteral">&quot;random data 3&quot;</span>);</div>
<div class="line">std::random_device rd; <span class="comment">// random number generators:</span></div>
<div class="line">std::mt19937 gen{rd()};</div>
<div class="line">std::uniform_int_distribution&lt;&gt; <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">ddecide</a>(0,1);</div>
<div class="line">std::normal_distribution&lt;&gt; <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">d1</a>{0,1};</div>
<div class="line">std::normal_distribution&lt;&gt; <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">d2</a>{6,1.2};</div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">i</a>=0; <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">i</a>&lt;150; <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">i</a>++) {</div>
<div class="line">    <span class="keywordtype">double</span> <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">v</a>=0;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">decide</a>=<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">ddecide</a>(gen);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">decide</a>==0) <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">v</a>=<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">d1</a>(gen);</div>
<div class="line">    <span class="keywordflow">else</span> <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">v</a>=<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">d2</a>(gen);</div>
<div class="line">    <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">datastore1</a>-&gt;appendToColumn(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">randomdatacol1</a>, <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">v</a>);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">decide</a>==0) <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">datastore1</a>-&gt;appendToColumn(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">randomdatacol2</a>, <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">v</a>);</div>
<div class="line">    <span class="keywordflow">else</span> <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">datastore1</a>-&gt;appendToColumn(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">randomdatacol3</a>, <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">v</a>);</div>
<div class="line">}</div>
<div class="ttc" id="aclass_j_k_q_t_p_final_act_html"><div class="ttname"><a href="class_j_k_q_t_p_final_act.html">JKQTPFinalAct</a></div><div class="ttdoc">C++11 finally construct (executes a callable-object when the edestructor is executed)</div><div class="ttdef"><b>Definition</b> jkqtpcodestructuring.h:48</div></div>
</div><!-- fragment --><p>The column <code>randomdatacol1</code> will contain 150 random numbers. Each one is drawn either from a normal dirstribution N(0,1) (<code>d1</code>) or N(6,<a class="el" href="class_j_k_q_t_p_final_act.html#af964d2f5e77728dfe65e13964ea9b02a">1.2</a>) (<code>d2</code>). the decision, which of the two to use is based on the result of a third random distribution ddecide, which only returns 0 or 1. The two columns <code>randomdatacol2</code> and <code>randomdatacol3</code> only collect the random numbers drawn from <code>d1</code> or <code>d2</code> respectively. The three columns are generated empyt by calling <code><a class="el" href="class_j_k_q_t_p_datastore.html#ae057eda96c7b754cd42f4380b429a589" title="add a new column to the datastore and return its ID">JKQTPDatastore::addColumn()</a></code> with only a name. Then the actual values are added by calling <code><a class="el" href="class_j_k_q_t_p_datastore.html#a3a992ac63957ce0c521e48944f704d91" title="adds a value value to the column column. This changes the column length (number of rows).">JKQTPDatastore::appendToColumn()</a></code>.</p>
<h1><a class="anchor" id="autotoc_md43"></a>
Basic Statistics</h1>
<p>The three sets of random numbers from above can be visualized <a class="el" href="class_j_k_q_t_p_final_act.html#af964d2f5e77728dfe65e13964ea9b02a">e.g</a>. by a <code><a class="el" href="class_j_k_q_t_p_peak_stream_graph.html" title="interprets data as a stream of x- or y-positions  (depending in yPeaks ) ans plots a line on the heig...">JKQTPPeakStreamGraph</a></code> graph with code as follows: </p><div class="fragment"><div class="line"><a class="code hl_class" href="class_j_k_q_t_p_peak_stream_graph.html">JKQTPPeakStreamGraph</a>* <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">gData1</a>;</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_final_act.html">plot1box</a>-&gt;addGraph(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">gData1</a>=<span class="keyword">new</span> <a class="code hl_class" href="class_j_k_q_t_p_peak_stream_graph.html">JKQTPPeakStreamGraph</a>(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">plot1box</a>));</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_final_act.html">gData1</a>-&gt;setDataColumn(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">randomdatacol1</a>);</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_final_act.html">gData1</a>-&gt;setBaseline(-0.1);</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_final_act.html">gData1</a>-&gt;setPeakHeight(-0.05);</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_final_act.html">gData1</a>-&gt;setDrawBaseline(<span class="keyword">false</span>);</div>
<div class="ttc" id="aclass_j_k_q_t_p_peak_stream_graph_html"><div class="ttname"><a href="class_j_k_q_t_p_peak_stream_graph.html">JKQTPPeakStreamGraph</a></div><div class="ttdoc">interprets data as a stream of x- or y-positions  (depending in yPeaks ) ans plots a line on the heig...</div><div class="ttdef"><b>Definition</b> jkqtppeakstream.h:48</div></div>
</div><!-- fragment --><p>This (if repeated for all three columns) results in a plot like this:</p>
<p><img src="https://raw.githubusercontent.com/jkriege2/JKQtPlotter/master/screenshots/datastore_statistics_dataonly.png" alt="datastore_statistics_dataonly" class="inline"/></p>
<p>Based on the raw data we can now use <a class="el" href="class_j_k_q_t_plotter.html" title="plotter widget for scientific plots (uses JKQTBasePlotter to do the actual drawing)">JKQTPlotter</a>'s <a class="el" href="group__jkqtptools__math__statistics.html">JKQTPlotter Statistics Library</a> to calculate some basic properties, like the average (<code><a class="el" href="group__jkqtptools__math__statistics__basic.html#ga6a829fb0253c9cbaf541e23c45292808" title="calculates the average of a given data range first ... last">jkqtpstatAverage()</a></code>) or the standard deviation (<code><a class="el" href="group__jkqtptools__math__statistics__basic.html#ga0cbd4d4f762fe7c05fa143e643988c21" title="calculates the standard deviation  of a given data range first ... last">jkqtpstatStdDev()</a></code>):</p>
<div class="fragment"><div class="line"><span class="keywordtype">size_t</span> N=0;</div>
<div class="line"><span class="keywordtype">double</span> mean=<a class="code hl_function" href="group__jkqtptools__math__statistics__basic.html#ga6a829fb0253c9cbaf541e23c45292808">jkqtpstatAverage</a>(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">datastore1</a>-&gt;begin(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">randomdatacol1</a>), <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">datastore1</a>-&gt;end(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">randomdatacol1</a>), &amp;N);</div>
<div class="line"><span class="keywordtype">double</span> std=<a class="code hl_function" href="group__jkqtptools__math__statistics__basic.html#ga0cbd4d4f762fe7c05fa143e643988c21">jkqtpstatStdDev</a>(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">datastore1</a>-&gt;begin(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">randomdatacol1</a>), <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">datastore1</a>-&gt;end(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">randomdatacol1</a>));</div>
<div class="ttc" id="agroup__jkqtptools__math__statistics__basic_html_ga0cbd4d4f762fe7c05fa143e643988c21"><div class="ttname"><a href="group__jkqtptools__math__statistics__basic.html#ga0cbd4d4f762fe7c05fa143e643988c21">jkqtpstatStdDev</a></div><div class="ttdeci">double jkqtpstatStdDev(InputIt first, InputIt last, double *averageOut=nullptr, size_t *Noutput=nullptr)</div><div class="ttdoc">calculates the standard deviation  of a given data range first ... last</div><div class="ttdef"><b>Definition</b> jkqtpstatbasics.h:515</div></div>
<div class="ttc" id="agroup__jkqtptools__math__statistics__basic_html_ga6a829fb0253c9cbaf541e23c45292808"><div class="ttname"><a href="group__jkqtptools__math__statistics__basic.html#ga6a829fb0253c9cbaf541e23c45292808">jkqtpstatAverage</a></div><div class="ttdeci">double jkqtpstatAverage(InputIt first, InputIt last, size_t *Noutput=nullptr)</div><div class="ttdoc">calculates the average of a given data range first ... last</div><div class="ttdef"><b>Definition</b> jkqtpstatbasics.h:62</div></div>
</div><!-- fragment --><p>Both statistics functions (the same as all statistics functions in the library) use an iterator-based interface, comparable to the interface of the algorithms in the C++ standard template library. To this end, the class <code><a class="el" href="class_j_k_q_t_p_datastore.html" title="This class manages data columns (with entries of type double ), used by JKQTPlotter/JKQTBasePlotter t...">JKQTPDatastore</a></code> provides an iterator interface to its columns, using the functions <code><a class="el" href="class_j_k_q_t_p_datastore.html#a6d3927a7c56a239d283e42fb6a48d6b7" title="returns an iterator to the first column in the JKQTPDatastore">JKQTPDatastore::begin()</a></code> and <code><a class="el" href="class_j_k_q_t_p_datastore.html#ab67341aad7c2de279970b5a7b5362042" title="returns an iterator behind the last column in the JKQTPDatastore">JKQTPDatastore::end()</a></code>. Both functions simply receive the column ID as parameter and exist in a const and a mutable variant. the latter allows to also edit the data. In addition the function <code><a class="el" href="class_j_k_q_t_p_datastore.html#a1c8222b11049de01139fcd4603ba272c" title="returns a back-inserter iterator (JKQTPColumnBackInserter) to the i -th column in the JKQTPDatastore">JKQTPDatastore::backInserter()</a></code> returns a back-inserter iterator (like generated for STL containers with <code>std::back_inserter(container)</code>) that also allows to append to the column.</p>
<p>note that the iterator interface allows to use these functions with any container that provides such iterators (<a class="el" href="class_j_k_q_t_p_final_act.html#af964d2f5e77728dfe65e13964ea9b02a">e.g</a>. <code>std::vector&lt;double&gt;</code>, <code>std::list&lt;int&gt;</code>, <code>std::set&lt;float&gt;</code>, <code>QVector&lt;double&gt;</code>...).</p>
<p>The output of these functions is shown in the image above in the plot legend/key.</p>
<p>Of course, several other functions exist that calculate basic statistics from a column, <a class="el" href="class_j_k_q_t_p_final_act.html#af964d2f5e77728dfe65e13964ea9b02a">e.g</a>.:</p><ul>
<li>average/mean: <code><a class="el" href="group__jkqtptools__math__statistics__basic.html#ga6a829fb0253c9cbaf541e23c45292808" title="calculates the average of a given data range first ... last">jkqtpstatAverage()</a></code>, <code><a class="el" href="group__jkqtptools__math__statistics__basic.html#ga496e477dda2d28360b30c53d19ed4d7a" title="calculates the weighted average of a given data range first ... last">jkqtpstatWeightedAverage()</a></code></li>
<li>number of usable values in a range:<code><a class="el" href="group__jkqtptools__math__statistics__basic.html#ga7a45c0892f07afc9fed51c6f0e39530c" title="calculates the number of valid values in the given data range first ... last">jkqtpstatCount()</a></code></li>
<li>minimum/maximum: <code><a class="el" href="group__jkqtptools__math__statistics__basic.html#ga88686b7d786896c704659dc8fe4c1e7f" title="calculates the minimum and maximum values in the given data range first ... last">jkqtpstatMinMax()</a></code>, <code>jkqtpstatMin()</code>, <code>jkqtpstatMax()</code></li>
<li>sum: <code><a class="el" href="group__jkqtptools__math__statistics__basic.html#gafbafc72c766fe9c85cc9217b64ce1acb" title="calculates the sum of a given data range first ... last">jkqtpstatSum()</a></code></li>
<li>variance: <code><a class="el" href="group__jkqtptools__math__statistics__basic.html#gafc723ba91ee70e37765f209b453ab51c" title="calculates the variance  of a given data range first ... last">jkqtpstatVariance()</a></code>, <code><a class="el" href="group__jkqtptools__math__statistics__basic.html#gac5dddaa1510f3cfb272819ee26d21aeb" title="calculates the weighted variance  of a given data range first ... last">jkqtpstatWeightedVariance()</a></code></li>
<li>standard deviation: <code><a class="el" href="group__jkqtptools__math__statistics__basic.html#ga0cbd4d4f762fe7c05fa143e643988c21" title="calculates the standard deviation  of a given data range first ... last">jkqtpstatStdDev()</a></code>, <code><a class="el" href="group__jkqtptools__math__statistics__basic.html#ga857f378608abdf733a502a2d0ba6b702" title="calculates the weighted standard deviation  of a given data range first ... last">jkqtpstatWeightedStdDev()</a></code></li>
<li>skewnes<code><a class="el" href="group__jkqtptools__math__statistics__basic.html#ga1bd073c3c990799502c27c9c12c5062c" title="calculates the skewness  of a given data range first ... last">jkqtpstatSkewness()</a></code></li>
<li>statistical moments: <code><a class="el" href="group__jkqtptools__math__statistics__basic.html#gac7efa1ae9c52a2457180398451ddb955" title="calculates the given central moment  of a given data range first ... last">jkqtpstatCentralMoment()</a></code>, <code><a class="el" href="group__jkqtptools__math__statistics__basic.html#ga74e5713bdf48da9f2427cb247c65f91a" title="calculates the given (non-central) moment  of a given data range first ... last">jkqtpstatMoment()</a></code></li>
<li>correlation coefficients: <code><a class="el" href="group__jkqtptools__math__statistics__basic.html#gaa36f983ab456720de3df86faa509afb3" title="calculate empirical (Pearson&#39;s) correlation coefficient  between two given data ranges first1 ....">jkqtpstatCorrelationCoefficient()</a></code></li>
<li>median: <code><a class="el" href="group__jkqtptools__math__statistics__basic.html#ga5aa5e5dc787e5c891ae7d1eccd697003" title="calculates the median of a given data range first ... last">jkqtpstatMedian()</a></code></li>
<li>quantile: <code><a class="el" href="group__jkqtptools__math__statistics__basic.html#ga6bad0f90e0326380c13b466115285a8f" title="calculates the quantile -th quantile of a given data range first ... last">jkqtpstatQuantile()</a></code></li>
<li>(N)MAD: <code><a class="el" href="group__jkqtptools__math__statistics__basic.html#ga72306d0654d0c4ec47c7f63944444a7c" title="calculates the median absolute deviation about the median (MAD) of a given data range first ....">jkqtpstatMAD()</a></code>, <code><a class="el" href="group__jkqtptools__math__statistics__basic.html#gaeaaf7b88154c651bbb0d2d99c03e12f4" title="calculates the normalized median absolute deviation about the median (NMAD) of a given data range fir...">jkqtpstatNMAD()</a></code></li>
<li>5-Number Summary (<a class="el" href="class_j_k_q_t_p_final_act.html#af964d2f5e77728dfe65e13964ea9b02a">e.g</a>. for boxplots): <code><a class="el" href="group__jkqtptools__math__statistics__basic.html#ga3a94379010a5de3e9701122f88bfb6f4" title="calculates the Five-Number Statistical Summary (minimum, median, maximum and two user-defined quantil...">jkqtpstat5NumberStatistics()</a></code>, <code><a class="el" href="group__jkqtptools__math__statistics__basic.html#gaac8934aa1adf6cc3e90a74002dcd5576" title="calculates the Five-Number Statistical Summary (minimum, median, maximum and two user-defined quantil...">jkqtpstat5NumberStatisticsAndOutliers()</a></code>, <code><a class="el" href="group__jkqtptools__math__statistics__basic.html#ga8097151787e2f08b59d61a89e9ca3ba6" title="calculates the Five-Number Statistical Summary (minimum, median, maximum and two user-defined quantil...">jkqtpstat5NumberStatisticsOfSortedVector()</a></code>, <code><a class="el" href="group__jkqtptools__math__statistics__basic.html#ga71146e45f6cca4eefb5748fcd0e72751" title="calculates the Five-Number Statistical Summary (minimum, median, maximum and two user-defined quantil...">jkqtpstat5NumberStatisticsAndOutliersOfSortedVector()</a></code></li>
</ul>
<p>All these functions use all values in the given range and convert each value to a <code>double</code>, using <code><a class="el" href="group__jkqtptools__math__basic.html#ga966c1a713f60bd026db4f35f7007eb7e" title="converts a boolean to a double, is used to convert boolean to double by JKQTPDatastore">jkqtp_todouble()</a></code>. The return values is always a dohble. Therefore you can use these functions to calculate statistics of ranges of any type that can be converted to <code>double</code>. Values that do not result in a valid <code>double</code>are not used in calculating the statistics. Therefore you can exclude values by setting them <code>JKQTP_DOUBLE_NAN</code> (<a class="el" href="class_j_k_q_t_p_final_act.html#af964d2f5e77728dfe65e13964ea9b02a">i.e</a>. "not a number").</p>
<h1><a class="anchor" id="autotoc_md44"></a>
Boxplots</h1>
<h2><a class="anchor" id="autotoc_md45"></a>
Standard Boxplots</h2>
<p>As mentioned above and shown in several other examples, <a class="el" href="class_j_k_q_t_plotter.html" title="plotter widget for scientific plots (uses JKQTBasePlotter to do the actual drawing)">JKQTPlotter</a> supports <a href="https://en.wikipedia.org/wiki/Box_plot">Boxplots</a> with the classes <code><a class="el" href="class_j_k_q_t_p_boxplot_horizontal_element.html" title="This implements a horizontal (notched) boxplot where the data is directly given to the object and not...">JKQTPBoxplotHorizontalElement</a></code>, <code><a class="el" href="class_j_k_q_t_p_boxplot_vertical_element.html" title="This implements a single vertical (notched) boxplot as a &quot;geometric element&quot;, where the data is direc...">JKQTPBoxplotVerticalElement</a></code>, as well as <code>JKQTPBoxplotHorizontal</code> and <code>JKQTPBoxplotVertical</code>. You can then use the 5-Number Summray functions from the <a class="el" href="group__jkqtptools__math__statistics.html">JKQTPlotter Statistics Library</a> to calculate the data for such a boxplot (<a class="el" href="class_j_k_q_t_p_final_act.html#af964d2f5e77728dfe65e13964ea9b02a">e.g</a>. <code><a class="el" href="group__jkqtptools__math__statistics__basic.html#ga3a94379010a5de3e9701122f88bfb6f4" title="calculates the Five-Number Statistical Summary (minimum, median, maximum and two user-defined quantil...">jkqtpstat5NumberStatistics()</a></code>) and set it up by hand. Code would look roughly like this: </p><div class="fragment"><div class="line"><a class="code hl_struct" href="struct_j_k_q_t_p_stat5_number_statistics.html">JKQTPStat5NumberStatistics</a> <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">stat</a>=<a class="code hl_function" href="group__jkqtptools__math__statistics__basic.html#ga3a94379010a5de3e9701122f88bfb6f4">jkqtpstat5NumberStatistics</a>(data.begin(), data.end(), 0.25, .5);</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_boxplot_vertical_element.html">JKQTPBoxplotVerticalElement</a>* <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">res</a>=<span class="keyword">new</span> <a class="code hl_class" href="class_j_k_q_t_p_boxplot_vertical_element.html">JKQTPBoxplotVerticalElement</a>(plotter);</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_final_act.html">res</a>-&gt;setMin(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">stat</a>.minimum);</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_final_act.html">res</a>-&gt;setMax(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">stat</a>.maximum);</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_final_act.html">res</a>-&gt;setMedian(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">stat</a>.median);</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_final_act.html">res</a>-&gt;setMean(<a class="code hl_function" href="group__jkqtptools__math__statistics__basic.html#ga6a829fb0253c9cbaf541e23c45292808">jkqtpstatAverage</a>(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">first</a>, last));</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_final_act.html">res</a>-&gt;setPercentile25(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">stat</a>.quantile1);</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_final_act.html">res</a>-&gt;setPercentile75(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">stat</a>.quantile2);</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_final_act.html">res</a>-&gt;setMedianConfidenceIntervalWidth(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">stat</a>.IQRSignificanceEstimate());</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_final_act.html">res</a>-&gt;setDrawMean(<span class="keyword">true</span>);</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_final_act.html">res</a>-&gt;setDrawNotch(<span class="keyword">true</span>);</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_final_act.html">res</a>-&gt;setDrawMedian(<span class="keyword">true</span>);</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_final_act.html">res</a>-&gt;setDrawMinMax(<span class="keyword">true</span>);</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_final_act.html">res</a>-&gt;setDrawBox(<span class="keyword">true</span>);</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_final_act.html">res</a>-&gt;setPos(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">boxposX</a>);</div>
<div class="line">plotter-&gt;addGraph(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">res</a>);</div>
<div class="ttc" id="aclass_j_k_q_t_p_boxplot_vertical_element_html"><div class="ttname"><a href="class_j_k_q_t_p_boxplot_vertical_element.html">JKQTPBoxplotVerticalElement</a></div><div class="ttdoc">This implements a single vertical (notched) boxplot as a &quot;geometric element&quot;, where the data is direc...</div><div class="ttdef"><b>Definition</b> jkqtpboxplot.h:200</div></div>
<div class="ttc" id="agroup__jkqtptools__math__statistics__basic_html_ga3a94379010a5de3e9701122f88bfb6f4"><div class="ttname"><a href="group__jkqtptools__math__statistics__basic.html#ga3a94379010a5de3e9701122f88bfb6f4">jkqtpstat5NumberStatistics</a></div><div class="ttdeci">void jkqtpstat5NumberStatistics(InputIt first, InputIt last, double *minimum, double minimumQuantile=0, double *median=nullptr, double *maximum=nullptr, double maximumQuantile=1, double quantile1Spec=0.25, double *quantile1=nullptr, double quantile2Spec=0.75, double *quantile2=nullptr, double *IQR=nullptr, double *IQRSignificance=nullptr, size_t *Noutput=nullptr)</div><div class="ttdoc">calculates the Five-Number Statistical Summary (minimum, median, maximum and two user-defined quantil...</div><div class="ttdef"><b>Definition</b> jkqtpstatbasics.h:975</div></div>
<div class="ttc" id="astruct_j_k_q_t_p_stat5_number_statistics_html"><div class="ttname"><a href="struct_j_k_q_t_p_stat5_number_statistics.html">JKQTPStat5NumberStatistics</a></div><div class="ttdoc">represents the Five-Number Statistical Summary (minimum, median, maximum and two user-defined quantil...</div><div class="ttdef"><b>Definition</b> jkqtpstatbasics.h:1023</div></div>
</div><!-- fragment --><p>In order to save you the work of writing out this code, the <a class="el" href="group__jkqtptools__math__statistics.html">JKQTPlotter Statistics Library</a> provides "adaptors", such as <code><a class="el" href="group__jkqtptools__math__statistics__adaptors.html#ga8109cc80c12b6a32b5be04559556195a" title="add a JKQTPBoxplotVerticalElement to the given plotter, where the boxplot values are calculated from ...">jkqtpstatAddVBoxplot()</a></code>, which basically implements the code above. Then drawing a boxplot is reduced to:</p>
<div class="fragment"><div class="line"><a class="code hl_class" href="class_j_k_q_t_p_boxplot_horizontal_element.html">JKQTPBoxplotHorizontalElement</a>* <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">gBox2</a>=<a class="code hl_function" href="group__jkqtptools__math__statistics__adaptors.html#gadc49e9815cacace42d56389d63f0228b">jkqtpstatAddHBoxplot</a>(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">plot1box</a>-&gt;getPlotter(), <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">datastore1</a>-&gt;begin(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">randomdatacol2</a>), <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">datastore1</a>-&gt;end(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">randomdatacol2</a>), -0.25);</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_final_act.html">gBox2</a>-&gt;setColor(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">gData2</a>-&gt;getKeyLabelColor());</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_final_act.html">gBox2</a>-&gt;setBoxWidthAbsolute(16);</div>
<div class="ttc" id="aclass_j_k_q_t_p_boxplot_horizontal_element_html"><div class="ttname"><a href="class_j_k_q_t_p_boxplot_horizontal_element.html">JKQTPBoxplotHorizontalElement</a></div><div class="ttdoc">This implements a horizontal (notched) boxplot where the data is directly given to the object and not...</div><div class="ttdef"><b>Definition</b> jkqtpboxplot.h:247</div></div>
<div class="ttc" id="agroup__jkqtptools__math__statistics__adaptors_html_gadc49e9815cacace42d56389d63f0228b"><div class="ttname"><a href="group__jkqtptools__math__statistics__adaptors.html#gadc49e9815cacace42d56389d63f0228b">jkqtpstatAddHBoxplot</a></div><div class="ttdeci">JKQTPBoxplotHorizontalElement * jkqtpstatAddHBoxplot(JKQTBasePlotter *plotter, InputIt first, InputIt last, double boxposY, double quantile1Spec=0.25, double quantile2Spec=0.75, double minimumQuantile=0, double maximumQuantile=1.0, JKQTPStat5NumberStatistics *statOutput=nullptr)</div><div class="ttdoc">add a JKQTPBoxplotHorizontalElement to the given plotter, where the boxplot values are calculated fro...</div><div class="ttdef"><b>Definition</b> jkqtpstatisticsadaptors.h:67</div></div>
</div><!-- fragment --><p>Here <code><a class="el" href="class_j_k_q_t_p_final_act.html#af964d2f5e77728dfe65e13964ea9b02a">-0.25</a></code>indicates the location (on the y-axis) of the boxplot. and the plot is calculated for the data in the <code><a class="el" href="class_j_k_q_t_p_datastore.html" title="This class manages data columns (with entries of type double ), used by JKQTPlotter/JKQTBasePlotter t...">JKQTPDatastore</a></code> column <code>randomdatacol2</code>.</p>
<p><img src="https://raw.githubusercontent.com/jkriege2/JKQtPlotter/master/screenshots/datastore_statistics_boxplots_simple.png" alt="datastore_statistics_boxplots_simple" class="inline"/></p>
<h2><a class="anchor" id="autotoc_md46"></a>
Boxplots with Outliers</h2>
<p>Usually the boxplot draws its whiskers at the minimum and maximum value of the dataset. But if your data contains a lot of outliers, it may make sense to draw them <a class="el" href="class_j_k_q_t_p_final_act.html#af964d2f5e77728dfe65e13964ea9b02a">e.g</a>. at the 3% and 97% quantiles and the draw the outliers as additional data points. This can also be done with <code><a class="el" href="group__jkqtptools__math__statistics__basic.html#ga3a94379010a5de3e9701122f88bfb6f4" title="calculates the Five-Number Statistical Summary (minimum, median, maximum and two user-defined quantil...">jkqtpstat5NumberStatistics()</a></code>, as you can specify the minimum and maximum quantile (default is 0 and 1, <a class="el" href="class_j_k_q_t_p_final_act.html#af964d2f5e77728dfe65e13964ea9b02a">i.e</a>. the true minimum and maximum) and the resulting object contains a vector with the outlier values. Then you could add them to the <a class="el" href="class_j_k_q_t_p_datastore.html" title="This class manages data columns (with entries of type double ), used by JKQTPlotter/JKQTBasePlotter t...">JKQTPDatastore</a> and add a scatter plot that displays them. Also this task is sped up by an "adaptor". Simply call</p>
<div class="fragment"><div class="line">std::pair&lt;JKQTPBoxplotHorizontalElement*,JKQTPSingleColumnSymbolsGraph*&gt; <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">gBox1</a>;</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_final_act.html">gBox1</a>=<a class="code hl_function" href="group__jkqtptools__math__statistics__adaptors.html#gab0ff0614e1796afe34c3cae0dc9ba8a3">jkqtpstatAddHBoxplotAndOutliers</a>(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">plot1box</a>-&gt;getPlotter(), <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">datastore1</a>-&gt;begin(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">randomdatacol1</a>), <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">datastore1</a>-&gt;end(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">randomdatacol1</a>), -0.3,</div>
<div class="line">                                      0.25, 0.75, <span class="comment">// 1. and 3. Quartile for the boxplot box</span></div>
<div class="line">                                      0.03, 0.97 <span class="comment">// Quantiles for the boxplot box whiskers&#39; ends</span></div>
<div class="line">                                      );</div>
<div class="ttc" id="agroup__jkqtptools__math__statistics__adaptors_html_gab0ff0614e1796afe34c3cae0dc9ba8a3"><div class="ttname"><a href="group__jkqtptools__math__statistics__adaptors.html#gab0ff0614e1796afe34c3cae0dc9ba8a3">jkqtpstatAddHBoxplotAndOutliers</a></div><div class="ttdeci">std::pair&lt; JKQTPBoxplotHorizontalElement *, JKQTPSingleColumnSymbolsGraph * &gt; jkqtpstatAddHBoxplotAndOutliers(JKQTBasePlotter *plotter, InputIt first, InputIt last, double boxposY, double quantile1Spec=0.25, double quantile2Spec=0.75, double minimumQuantile=0.03, double maximumQuantile=0.97, const QString &amp;outliercolumnBaseName=QString(&quot;boxplot&quot;), JKQTPStat5NumberStatistics *statOutput=nullptr)</div><div class="ttdoc">add a JKQTPBoxplotHorizontalElement and a JKQTPSingleColumnSymbolsGraph for outliers to the given plo...</div><div class="ttdef"><b>Definition</b> jkqtpstatisticsadaptors.h:164</div></div>
</div><!-- fragment --><p>As you can see this restuns the <code><a class="el" href="class_j_k_q_t_p_boxplot_horizontal_element.html" title="This implements a horizontal (notched) boxplot where the data is directly given to the object and not...">JKQTPBoxplotHorizontalElement</a></code> and in addition a <code><a class="el" href="class_j_k_q_t_p_single_column_symbols_graph.html" title="plots a 1-column set of data-values with symbols onto a JKQtPlotter/JKQtBasePlotter....">JKQTPSingleColumnSymbolsGraph</a></code> for the display of the outliers. The result looks like this:</p>
<p><img src="https://raw.githubusercontent.com/jkriege2/JKQtPlotter/master/screenshots/datastore_statistics_boxplots_outliers.png" alt="datastore_statistics_boxplots_outliers" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md47"></a>
Histograms</h1>
<p>Calculating 1D-Histograms is supported by several functions from the <a class="el" href="group__jkqtptools__math__statistics.html">JKQTPlotter Statistics Library</a>, <a class="el" href="class_j_k_q_t_p_final_act.html#af964d2f5e77728dfe65e13964ea9b02a">e.g</a>. <code><a class="el" href="group__jkqtptools__math__statistics__1dhist.html#gaa83dbe625d4507f55629eaaf96a09cf8" title="calculate an autoranged 1-dimensional histogram from the given data range first .....">jkqtpstatHistogram1DAutoranged()</a></code>. You can use the result to fill new columns in a <code><a class="el" href="class_j_k_q_t_p_datastore.html" title="This class manages data columns (with entries of type double ), used by JKQTPlotter/JKQTBasePlotter t...">JKQTPDatastore</a></code>, which can then be used to draw the histogram (here wit 15 bins, spanning the full data range):</p>
<div class="fragment"><div class="line"><span class="keywordtype">size_t</span> <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">histcolX</a>=plotter-&gt;getDatastore()-&gt;addColumn(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">histogramcolumnBaseName</a>+<span class="stringliteral">&quot;, bins&quot;</span>);</div>
<div class="line"><span class="keywordtype">size_t</span> <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">histcolY</a>=plotter-&gt;getDatastore()-&gt;addColumn(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">histogramcolumnBaseName</a>+<span class="stringliteral">&quot;, values&quot;</span>);</div>
<div class="line"><a class="code hl_function" href="group__jkqtptools__math__statistics__1dhist.html#gaa83dbe625d4507f55629eaaf96a09cf8">jkqtpstatHistogram1DAutoranged</a>(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">first</a>, last, plotter-&gt;getDatastore()-&gt;backInserter(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">histcolX</a>), plotter-&gt;getDatastore()-&gt;backInserter(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">histcolY</a>), 15);</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_bar_vertical_graph.html">JKQTPBarVerticalGraph</a>* <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">resO</a>=<span class="keyword">new</span> <a class="code hl_class" href="class_j_k_q_t_p_bar_vertical_graph.html">JKQTPBarVerticalGraph</a>(plotter);</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_final_act.html">resO</a>-&gt;setXColumn(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">histcolX</a>);</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_final_act.html">resO</a>-&gt;setYColumn(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">histcolY</a>);</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_final_act.html">resO</a>-&gt;setTitle(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">histogramcolumnBaseName</a>);</div>
<div class="line">plotter-&gt;addGraph(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">resO</a>);</div>
<div class="ttc" id="aclass_j_k_q_t_p_bar_vertical_graph_html"><div class="ttname"><a href="class_j_k_q_t_p_bar_vertical_graph.html">JKQTPBarVerticalGraph</a></div><div class="ttdoc">This implements a vertical bar graph with bars between  and .</div><div class="ttdef"><b>Definition</b> jkqtpbarchart.h:96</div></div>
<div class="ttc" id="agroup__jkqtptools__math__statistics__1dhist_html_gaa83dbe625d4507f55629eaaf96a09cf8"><div class="ttname"><a href="group__jkqtptools__math__statistics__1dhist.html#gaa83dbe625d4507f55629eaaf96a09cf8">jkqtpstatHistogram1DAutoranged</a></div><div class="ttdeci">void jkqtpstatHistogram1DAutoranged(InputIt first, InputIt last, OutputIt histogramXOut, OutputIt histogramYOut, int bins=11, bool normalized=true, bool cummulative=false, JKQTPStatHistogramBinXMode binXMode=JKQTPStatHistogramBinXMode::XIsLeft)</div><div class="ttdoc">calculate an autoranged 1-dimensional histogram from the given data range first .....</div><div class="ttdef"><b>Definition</b> jkqtpstathistogram.h:73</div></div>
</div><!-- fragment --><p>Again there are "adaptors" which significanty reduce the amount of coude you have to type:</p>
<div class="fragment"><div class="line"><a class="code hl_class" href="class_j_k_q_t_p_bar_vertical_graph.html">JKQTPBarVerticalGraph</a>* <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">hist1</a>=<a class="code hl_function" href="group__jkqtptools__math__statistics__adaptors.html#ga8ff37e2bd7bd79311cca2c5cc3b65345">jkqtpstatAddHHistogram1DAutoranged</a>(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">plot1</a>-&gt;getPlotter(),  <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">datastore1</a>-&gt;begin(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">randomdatacol1</a>), <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">datastore1</a>-&gt;end(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">randomdatacol1</a>), 15);</div>
<div class="ttc" id="agroup__jkqtptools__math__statistics__adaptors_html_ga8ff37e2bd7bd79311cca2c5cc3b65345"><div class="ttname"><a href="group__jkqtptools__math__statistics__adaptors.html#ga8ff37e2bd7bd79311cca2c5cc3b65345">jkqtpstatAddHHistogram1DAutoranged</a></div><div class="ttdeci">JKQTPBarVerticalGraph * jkqtpstatAddHHistogram1DAutoranged(JKQTBasePlotter *plotter, InputIt first, InputIt last, int bins=11, bool normalized=true, bool cummulative=false, const QString &amp;histogramcolumnBaseName=QString(&quot;histogram&quot;))</div><div class="ttdoc">calculate an autoranged histogram and add a JKQTPBarVerticalGraph to the given plotter,...</div><div class="ttdef"><b>Definition</b> jkqtpstatisticsadaptors.h:828</div></div>
</div><!-- fragment --><p>The resulting plot looks like this (the distributions used to generate the random data are also shown as line plots!):</p>
<p><img src="https://raw.githubusercontent.com/jkriege2/JKQtPlotter/master/screenshots/datastore_statistics_hist.png" alt="datastore_statistics_hist" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md49"></a>
Kernel Density Estimates (KDE)</h1>
<p>Especially when only few samples from a distribution are available, histograms are not good at representing the underlying data distribution. In such cases, <a href="https://en.wikipedia.org/wiki/Kernel_density_estimation">Kernel Density Estimates (KDE)</a> can help, which are basically a smoothed variant of a histogram. The <a class="el" href="group__jkqtptools__math__statistics.html">JKQTPlotter Statistics Library</a> supports calculating them via <a class="el" href="class_j_k_q_t_p_final_act.html#af964d2f5e77728dfe65e13964ea9b02a">e.g</a>. <code><a class="el" href="group__jkqtptools__math__statistics__1dkde.html#gaea1ca0066c61947e8a8a7d8deaa36d3e" title="calculate an autoranged 1-dimensional Kernel Density Estimation (KDE) from the given data range first...">jkqtpstatKDE1D()</a></code>:</p>
<div class="fragment"><div class="line"><span class="keywordtype">size_t</span> <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">kdecolX</a>=plotter-&gt;getDatastore()-&gt;addColumn(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">KDEcolumnBaseName</a>+<span class="stringliteral">&quot;, bins&quot;</span>);</div>
<div class="line"><span class="keywordtype">size_t</span> <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">kdecolY</a>=plotter-&gt;getDatastore()-&gt;addColumn(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">KDEcolumnBaseName</a>+<span class="stringliteral">&quot;, values&quot;</span>);</div>
<div class="line"><a class="code hl_function" href="group__jkqtptools__math__statistics__1dkde.html#gaea1ca0066c61947e8a8a7d8deaa36d3e">jkqtpstatKDE1D</a>(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">first</a>, last, -5.0,0.01,10.0, plotter-&gt;getDatastore()-&gt;backInserter(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">kdecolX</a>), plotter-&gt;getDatastore()-&gt;backInserter(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">kdecolY</a>), <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">kernel</a>, <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">kdeBandwidth</a>);</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_x_y_line_graph.html">JKQTPXYLineGraph</a>* <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">resO</a>=<span class="keyword">new</span> <a class="code hl_class" href="class_j_k_q_t_p_x_y_line_graph.html">JKQTPXYLineGraph</a>(plotter);</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_final_act.html">resO</a>-&gt;setXColumn(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">kdecolX</a>);</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_final_act.html">resO</a>-&gt;setYColumn(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">kdecolY</a>);</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_final_act.html">resO</a>-&gt;setTitle(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">KDEcolumnBaseName</a>);</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_final_act.html">resO</a>-&gt;setDrawLine(<span class="keyword">true</span>);</div>
<div class="line"><a class="code hl_class" href="class_j_k_q_t_p_final_act.html">resO</a>-&gt;setSymbolType(<a class="code hl_enumvalue" href="group__jkqtptools__drawing.html#ggacdaaac6baeadbfd3677d4d53ea594b5ba5ed6d60f133d1f4f712dba322dff7525">JKQTPNoSymbol</a>);</div>
<div class="line">plotter-&gt;addGraph(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">resO</a>);</div>
<div class="ttc" id="aclass_j_k_q_t_p_x_y_line_graph_html"><div class="ttname"><a href="class_j_k_q_t_p_x_y_line_graph.html">JKQTPXYLineGraph</a></div><div class="ttdoc">This implements xy line plots. This also alows to draw symbols at the data points.</div><div class="ttdef"><b>Definition</b> jkqtplines.h:61</div></div>
<div class="ttc" id="agroup__jkqtptools__drawing_html_ggacdaaac6baeadbfd3677d4d53ea594b5ba5ed6d60f133d1f4f712dba322dff7525"><div class="ttname"><a href="group__jkqtptools__drawing.html#ggacdaaac6baeadbfd3677d4d53ea594b5ba5ed6d60f133d1f4f712dba322dff7525">JKQTPNoSymbol</a></div><div class="ttdeci">@ JKQTPNoSymbol</div><div class="ttdoc">plots no symbol at all (usefull together with error bars)</div><div class="ttdef"><b>Definition</b> jkqtpdrawingtools.h:101</div></div>
<div class="ttc" id="agroup__jkqtptools__math__statistics__1dkde_html_gaea1ca0066c61947e8a8a7d8deaa36d3e"><div class="ttname"><a href="group__jkqtptools__math__statistics__1dkde.html#gaea1ca0066c61947e8a8a7d8deaa36d3e">jkqtpstatKDE1D</a></div><div class="ttdeci">void jkqtpstatKDE1D(InputIt first, InputIt last, BinsInputIt binsFirst, BinsInputIt binsLast, OutputIt KDEXOut, OutputIt KDEYOut, const std::function&lt; double(double)&gt; &amp;kernel=std::function&lt; double(double)&gt;(&amp;jkqtpstatKernel1DGaussian), double bandwidth=1.0, bool cummulative=false)</div><div class="ttdoc">calculate an autoranged 1-dimensional Kernel Density Estimation (KDE) from the given data range first...</div><div class="ttdef"><b>Definition</b> jkqtpstatkde.h:343</div></div>
</div><!-- fragment --><p>The function accepts different kernel functions (any C++ functor <code>double f(double x)</code>) and provides a set of default kernels, <a class="el" href="class_j_k_q_t_p_final_act.html#af964d2f5e77728dfe65e13964ea9b02a">e.g</a>.</p><ul>
<li><code><a class="el" href="group__jkqtptools__math__statistics__1dkde__kernels.html#gab0e886736f781c7eaa7c5da7b6a3c436" title="a 1D Epanechnikov kernel function, e.g. for Kernel Density Estimation">jkqtpstatKernel1DEpanechnikov()</a></code></li>
<li><code><a class="el" href="group__jkqtptools__math__statistics__1dkde__kernels.html#gacddebeb94f8449c98b0ed98160e65a24" title="a 1D Gaussian kernel function, e.g. for Kernel Density Estimation">jkqtpstatKernel1DGaussian()</a></code></li>
<li><code><a class="el" href="group__jkqtptools__math__statistics__1dkde__kernels.html#gaf3fd869fbc97104dc1086932090f782d" title="a 1D uniform kernel function, e.g. for Kernel Density Estimation">jkqtpstatKernel1DUniform()</a></code></li>
<li>...</li>
</ul>
<p>The three parameters <code><a class="el" href="class_j_k_q_t_p_final_act.html#af964d2f5e77728dfe65e13964ea9b02a">-5.0</a>, <a class="el" href="class_j_k_q_t_p_final_act.html#af964d2f5e77728dfe65e13964ea9b02a">0.01</a>, <a class="el" href="class_j_k_q_t_p_final_act.html#af964d2f5e77728dfe65e13964ea9b02a">10.0</a></code> tell the function <code><a class="el" href="group__jkqtptools__math__statistics__1dkde.html#gaea1ca0066c61947e8a8a7d8deaa36d3e" title="calculate an autoranged 1-dimensional Kernel Density Estimation (KDE) from the given data range first...">jkqtpstatKDE1D()</a></code> to evaluate the KDE at positions between -5 and 10, in steps of <a class="el" href="class_j_k_q_t_p_final_act.html#af964d2f5e77728dfe65e13964ea9b02a">0.01</a>.</p>
<p>Finally the bandwidth constrols the smoothing and the <a class="el" href="group__jkqtptools__math__statistics.html">JKQTPlotter Statistics Library</a> provides a simple function to estimate it automatically from the data: </p><div class="fragment"><div class="line"><span class="keywordtype">double</span> <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">kdeBandwidth</a>=<a class="code hl_function" href="group__jkqtptools__math__statistics__1dkde.html#ga6f694ee485a9939331ed0ef6fe423706">jkqtpstatEstimateKDEBandwidth</a>(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">datastore1</a>-&gt;begin(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">randomdatacol1subset</a>), <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">datastore1</a>-&gt;end(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">randomdatacol1subset</a>));</div>
<div class="ttc" id="agroup__jkqtptools__math__statistics__1dkde_html_ga6f694ee485a9939331ed0ef6fe423706"><div class="ttname"><a href="group__jkqtptools__math__statistics__1dkde.html#ga6f694ee485a9939331ed0ef6fe423706">jkqtpstatEstimateKDEBandwidth</a></div><div class="ttdeci">double jkqtpstatEstimateKDEBandwidth(InputIt first, InputIt last)</div><div class="ttdoc">estimates a bandwidth for a Kernel Density Estimator (KDE) of the given data first ....</div><div class="ttdef"><b>Definition</b> jkqtpstatkde.h:167</div></div>
</div><!-- fragment --><p>Again a shortcut "adaptor" simplifies this task:</p>
<div class="fragment"><div class="line"><a class="code hl_class" href="class_j_k_q_t_p_x_y_line_graph.html">JKQTPXYLineGraph</a>* <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">kde2</a>=<a class="code hl_function" href="group__jkqtptools__math__statistics__adaptors.html#ga6c4b29bcf7b95cd6ff8564df48551cdd">jkqtpstatAddHKDE1D</a>(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">plot1kde</a>-&gt;getPlotter(),  <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">datastore1</a>-&gt;begin(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">randomdatacol1subset</a>), <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">datastore1</a>-&gt;end(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">randomdatacol1subset</a>),</div>
<div class="line"><span class="comment">//                                        evaluate at locations between -5 and 10, in steps of 0.01 (equivalent to the line above, but without pre-calculating a vector)</span></div>
<div class="line">                                          -5.0,0.01,10.0,</div>
<div class="line"><span class="comment">//                                        use a gaussian kernel</span></div>
<div class="line">                                          &amp;<a class="code hl_function" href="group__jkqtptools__math__statistics__1dkde__kernels.html#gab0e886736f781c7eaa7c5da7b6a3c436">jkqtpstatKernel1DEpanechnikov</a>,</div>
<div class="line"><span class="comment">//                                        estimate the bandwidth</span></div>
<div class="line">                                          <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">kdeBandwidth</a>);</div>
<div class="ttc" id="agroup__jkqtptools__math__statistics__1dkde__kernels_html_gab0e886736f781c7eaa7c5da7b6a3c436"><div class="ttname"><a href="group__jkqtptools__math__statistics__1dkde__kernels.html#gab0e886736f781c7eaa7c5da7b6a3c436">jkqtpstatKernel1DEpanechnikov</a></div><div class="ttdeci">jkqtmath_LIB_EXPORT double jkqtpstatKernel1DEpanechnikov(double t)</div><div class="ttdoc">a 1D Epanechnikov kernel function, e.g. for Kernel Density Estimation</div></div>
<div class="ttc" id="agroup__jkqtptools__math__statistics__adaptors_html_ga6c4b29bcf7b95cd6ff8564df48551cdd"><div class="ttname"><a href="group__jkqtptools__math__statistics__adaptors.html#ga6c4b29bcf7b95cd6ff8564df48551cdd">jkqtpstatAddHKDE1D</a></div><div class="ttdeci">JKQTPXYLineGraph * jkqtpstatAddHKDE1D(JKQTBasePlotter *plotter, InputIt first, InputIt last, BinsInputIt binsFirst, BinsInputIt binsLast, const std::function&lt; double(double)&gt; &amp;kernel=std::function&lt; double(double)&gt;(&amp;jkqtpstatKernel1DGaussian), double bandwidth=1.0, bool cummulative=false, const QString &amp;KDEcolumnBaseName=QString(&quot;KDE&quot;))</div><div class="ttdoc">calculate an autoranged KDE and add a JKQTPXYLineGraph to the given plotter, where the KDE is calcula...</div><div class="ttdef"><b>Definition</b> jkqtpstatisticsadaptors.h:1365</div></div>
</div><!-- fragment --><p>Plots that result from such calls look like this:</p>
<p><img src="https://raw.githubusercontent.com/jkriege2/JKQtPlotter/master/screenshots/datastore_statistics_kde.png" alt="datastore_statistics_kde" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md51"></a>
Cummulative Histograms and KDEs</h1>
<p>Both histograms and KDEs support a parameter <code>bool cummulative</code>, which allows to accumulate the data after calculation and drawing cummulative histograms/KDEs:</p>
<div class="fragment"><div class="line"><a class="code hl_class" href="class_j_k_q_t_p_bar_vertical_graph.html">JKQTPBarVerticalGraph</a>* <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">histcum2</a>=<a class="code hl_function" href="group__jkqtptools__math__statistics__adaptors.html#ga8ff37e2bd7bd79311cca2c5cc3b65345">jkqtpstatAddHHistogram1DAutoranged</a>(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">plot1cum</a>-&gt;getPlotter(),  <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">datastore1</a>-&gt;begin(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">randomdatacol2</a>), <a class="code hl_class" href="class_j_k_q_t_p_final_act.html">datastore1</a>-&gt;end(<a class="code hl_class" href="class_j_k_q_t_p_final_act.html">randomdatacol2</a>),</div>
<div class="line"><span class="comment">//                                                                          bin width</span></div>
<div class="line">                                                                            0.1,</div>
<div class="line"><span class="comment">//                                                                          normalized, cummulative</span></div>
<div class="line">                                                                            <span class="keyword">false</span>,       <span class="keyword">true</span>);</div>
</div><!-- fragment --><p><img src="https://raw.githubusercontent.com/jkriege2/JKQtPlotter/master/screenshots/datastore_statistics_cumhistkde.png" alt="datastore_statistics_cumhistkde" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md52"></a>
Screenshot of the full Program</h1>
<p>The output of the full test program <a href="https://github.com/jkriege2/JKQtPlotter/tree/master/examples/datastore_statistics/datastore_statistics.cpp"><code>datastore_statistics.cpp</code></a> looks like this:</p>
<p><img src="https://raw.githubusercontent.com/jkriege2/JKQtPlotter/master/screenshots/datastore_statistics.png" alt="datastore_statistics" class="inline"/> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.3-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="example_tutorial_projects.html">Example &amp; Tutorial Projects</a></li>
    <li class="footer">Generated on Thu Jan 11 2024 10:33:32 for JKQTPlotter by <a href="https://www.doxygen.org/index.html">doxygen</a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
